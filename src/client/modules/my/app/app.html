<template>

    <lightning-layout horizontal-align="center">
        <lightning-layout-item size="8" padding="around-small">
            <p>This Heroku service will pull down the current Code Coverage for the Org</p>
        </lightning-layout-item>
    </lightning-layout>

    <lightning-layout horizontal-align="center">
        <lightning-layout-item size="8" padding="around-small">
            <template if:true={isSet}>
                <lightning-button
                    variant="brand"
                    label="getCoverage"
                    title="getCoverage"
                    onclick={handleClick}>
                </lightning-button>
                <div class="slds-align_absolute-center" style="height:5rem">
                    <p>Org Wide Coverage: {orgCoverage}%</p>
                </div>
                <div style="height: 300px">
                    <lightning-datatable
                        key-field="name"
                        data={tblData}
                        columns={columns}
                        hide-checkbox-column="true"
                    >
                    </lightning-datatable>
                </div>
                <template if:true={canDownload}>
                    <lightning-button variant="brand" label="Download CSV" title="Download CSV" onclick={downloadCsv}></lightning-button>
                </template>
            </template>
            <template if:false={isSet}>
                <a class="slds-button slds-button_brand" href="/oauth2/auth?isSandbox=false">Production</a>
                <a class="slds-button slds-button_outline-brand" href="/oauth2/auth?isSandbox=true">Sandbox</a>
            </template>
        </lightning-layout-item>
    </lightning-layout>

</template>
